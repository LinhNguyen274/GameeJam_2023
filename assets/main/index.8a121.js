window.__require=function e(t,o,c){function n(r,a){if(!o[r]){if(!t[r]){var l=r.split("/");if(l=l[l.length-1],!t[l]){var s="function"==typeof __require&&__require;if(!a&&s)return s(l,!0);if(i)return i(l,!0);throw new Error("Cannot find module '"+r+"'")}r=l}var p=o[r]={exports:{}};t[r][0].call(p.exports,function(e){return n(t[r][1][e]||e)},p,p.exports,e,t,o,c)}return o[r].exports}for(var i="function"==typeof __require&&__require,r=0;r<c.length;r++)n(c[r]);return n}({Animation:[function(e,t,o){"use strict";cc._RF.push(t,"6d33d5R+jlIfpyuUFg/JqFs","Animation"),Object.defineProperty(o,"__esModule",{value:!0});var c=e("./player_control"),n=cc._decorator,i=n.ccclass,r=n.property,a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.skeleton=null,t.idle=null,t.walk=null,t.dance=null,t.jump=null,t.death=null,t.win=null,t.lose=null,t.chatSprite=[],t.chatBox=null,t.inter=null,t.jumping=!1,t.walking=!1,t}var o;return __extends(t,e),o=t,Object.defineProperty(t,"instance",{get:function(){return o._instance},enumerable:!1,configurable:!0}),t.prototype.onLoad=function(){o._instance=this,this.skeleton.addClip(this.idle,"Idle"),this.skeleton.addClip(this.jump,"Jump"),this.skeleton.addClip(this.walk,"Walk"),this.skeleton.addClip(this.dance,"Dance"),this.skeleton.addClip(this.death,"Death"),this.skeleton.addClip(this.win,"Win"),this.skeleton.addClip(this.lose,"Lose")},t.prototype.start=function(){this.playAnim()},t.prototype.playAnim=function(){this.jumping||(this.skeleton.play("Idle").wrapMode=cc.WrapMode.Loop,this.walking=!1)},t.prototype.onWalk=function(){console.log(this.walking),this.jumping||this.walking||(this.skeleton.play("Walk"),this.walking=!0)},t.prototype.onJump=function(){var e=this;this.jumping=!0,this.skeleton.play("Jump").wrapMode=cc.WrapMode.Normal,this.scheduleOnce(function(){e.jumping=!1,e.walking=!1,c.default.instance.pressedDir?e.onWalk():e.playAnim()},1)},t.prototype.onDance=function(){this.skeleton.play("Dance")},t.prototype.onLose=function(){},t.prototype.onWin=function(){},t._instance=null,__decorate([r(cc.SkeletonAnimation)],t.prototype,"skeleton",void 0),__decorate([r(cc.SkeletonAnimationClip)],t.prototype,"idle",void 0),__decorate([r(cc.SkeletonAnimationClip)],t.prototype,"walk",void 0),__decorate([r(cc.SkeletonAnimationClip)],t.prototype,"dance",void 0),__decorate([r(cc.SkeletonAnimationClip)],t.prototype,"jump",void 0),__decorate([r(cc.SkeletonAnimationClip)],t.prototype,"death",void 0),__decorate([r(cc.SkeletonAnimationClip)],t.prototype,"win",void 0),__decorate([r(cc.SkeletonAnimationClip)],t.prototype,"lose",void 0),__decorate([r([cc.SpriteFrame])],t.prototype,"chatSprite",void 0),__decorate([r(cc.Sprite)],t.prototype,"chatBox",void 0),o=__decorate([i],t)}(cc.Component);o.default=a,cc._RF.pop()},{"./player_control":"player_control"}],ColliderCallback:[function(e,t,o){"use strict";cc._RF.push(t,"eaeb1K9WzdHkJnMHSnDDu+U","ColliderCallback"),Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,n=c.ccclass,i=(c.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.colliderEnterCb=null,t.colliderExitCb=null,t.colliderEnterCbStay=null,t}return __extends(t,e),t.prototype.setColliderCallback=function(e,t){void 0===t&&(t=null),this.colliderEnterCb=e,this.colliderExitCb=t},t.prototype.setColliderCallbackStay=function(e){this.colliderEnterCbStay=e},t.prototype.onCollisionEnter=function(e,t){this.colliderEnterCb&&this.colliderEnterCb(e,t)},t.prototype.onCollisionStay=function(e,t){this.colliderEnterCbStay&&this.colliderEnterCbStay(e,t)},t.prototype.onCollisionExit=function(e,t){this.colliderExitCb&&this.colliderExitCb(e,t)},__decorate([n],t)}(cc.Component));o.default=i,cc._RF.pop()},{}],PhysicalEnable:[function(e,t,o){"use strict";cc._RF.push(t,"9c9bdcxTi1K5qmLK8lMwxbs","PhysicalEnable"),Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,n=c.ccclass,i=c.property,r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.gravityScale=1,t.isDebugPhysics=!1,t.isDebugCollider=!1,t}return __extends(t,e),t.prototype.onLoad=function(){cc.macro.ENABLE_TRANSPARENT_CANVAS=!0,this.physicsManager=cc.director.getPhysicsManager(),this.physicsManager3d=cc.director.getPhysics3DManager(),this.collisionManager=cc.director.getCollisionManager()},t.prototype.onEnable=function(){this.setPhysicsEnabled(!0)},t.prototype.onDisable=function(){this.setPhysicsEnabled(!1)},t.prototype.update=function(){},t.prototype.setPhysicsEnabled=function(e){this.physicsManager.enabled=e,this.physicsManager3d.enabled=e,this.collisionManager.enabled=e,this.isDebugCollider&&(this.collisionManager.enabledDebugDraw=!0),this.isDebugPhysics&&(this.physicsManager.debugDrawFlags=cc.PhysicsManager.DrawBits.e_aabbBit|cc.PhysicsManager.DrawBits.e_pairBit|cc.PhysicsManager.DrawBits.e_centerOfMassBit|cc.PhysicsManager.DrawBits.e_jointBit|cc.PhysicsManager.DrawBits.e_shapeBit)},t.REAL_GRAVITY_SCALE=1,__decorate([i(cc.Float)],t.prototype,"gravityScale",void 0),__decorate([i(cc.Boolean)],t.prototype,"isDebugPhysics",void 0),__decorate([i(cc.Boolean)],t.prototype,"isDebugCollider",void 0),__decorate([n],t)}(cc.Component);o.default=r,cc._RF.pop()},{}],VideoControl:[function(e,t,o){"use strict";cc._RF.push(t,"248a5W2Z1tB7I5zro/rc2T9","VideoControl"),Object.defineProperty(o,"__esModule",{value:!0});var c=e("./player_control"),n=cc._decorator,i=n.ccclass,r=n.property,a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.video=null,t.button=null,t.played=!1,t}return __extends(t,e),t.prototype.onCollisionEnter=function(e){"Character"!=e.node.group||this.played||(this.video.play(),this.played=!0,cc.tween(this.button.node).by(.5,{position:cc.v2(0,-20)}).start(),c.default.instance.playDance())},__decorate([r(cc.VideoPlayer)],t.prototype,"video",void 0),__decorate([r(cc.RigidBody)],t.prototype,"button",void 0),__decorate([i],t)}(cc.Component);o.default=a,cc._RF.pop()},{"./player_control":"player_control"}],bomb_control:[function(e,t,o){"use strict";cc._RF.push(t,"939e41al8BDGLTPfhfPNoOG","bomb_control"),Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,n=c.ccclass,i=(c.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.Remove_Node=function(){this.node.destroy()},t.prototype.onBeginContact=function(e,t,o){"Player"==o.node.name&&this.node.getComponent(cc.Animation).play()},__decorate([n],t)}(cc.Component));o.default=i,cc._RF.pop()},{}],camera_control:[function(e,t,o){"use strict";cc._RF.push(t,"836a3VkIVlFRo3hQeyQj/k0","camera_control"),Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,n=c.ccclass,i=c.property,r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.Player_Node=null,t.blockNode=null,t.posX=null,t}return __extends(t,e),t.prototype.update=function(){var e=this.Player_Node.getPosition();e.y=cc.misc.clampf(e.y,0,220);var t=this.node.getPosition();this.posX=t.x,this.posX<e.x&&(this.blockNode.setPosition(cc.v2(t.x-682,t.y)),t.lerp(e,.1,t),this.node.setPosition(t))},__decorate([i(cc.Node)],t.prototype,"Player_Node",void 0),__decorate([i(cc.Node)],t.prototype,"blockNode",void 0),__decorate([n],t)}(cc.Component);o.default=r,cc._RF.pop()},{}],explosion_force:[function(e,t,o){"use strict";cc._RF.push(t,"e6ec6uN/qhFhJvIS/Rg/Vss","explosion_force"),Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,n=c.ccclass,i=c.property,r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.Bomb_Root=null,t}return __extends(t,e),t.prototype.onBeginContact=function(e,t,o){if(o.body.type===cc.RigidBodyType.Dynamic&&o.node!==this.Bomb_Root){var c=o.node.getPosition(),n=this.Bomb_Root.getPosition(),i=c.sub(n);i.normalizeSelf(),i.mulSelf(2e5),o.body.applyForceToCenter(i)}},__decorate([i(cc.Node)],t.prototype,"Bomb_Root",void 0),__decorate([n],t)}(cc.Component);o.default=r,cc._RF.pop()},{}],main_game_control:[function(e,t,o){"use strict";cc._RF.push(t,"83aeb+1oXBGab873ioivyWY","main_game_control"),Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,n=c.ccclass,i=(c.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.onLoad=function(){var e=cc.director.getPhysicsManager();e.enabled=!0,e.gravity=cc.v2(0,-2e3)},__decorate([n],t)}(cc.Component));o.default=i,cc._RF.pop()},{}],player_control:[function(e,t,o){"use strict";cc._RF.push(t,"eed8awe0ENGFo3UmlBC6EkJ","player_control"),Object.defineProperty(o,"__esModule",{value:!0});var c=e("./Animation"),n=e("./ColliderCallback"),i=cc._decorator,r=i.ccclass,a=i.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.Bomb_Prefab=null,t.bodyCollider=null,t.spaceClicked=null,t.Character=null,t.Direction=0,t.On_The_Ground=!1,t.Velocity_Max_X=400,t.Walk_Force=15e3,t.Jump_Force=5e5,t.Left=-50,t.Right=50,t.pressedDir=!1,t}var o;return __extends(t,e),o=t,Object.defineProperty(t,"instance",{get:function(){return o._instance},enumerable:!1,configurable:!0}),t.prototype.onLoad=function(){o._instance=this,this.Rigid_Body=this.node.getComponent(cc.RigidBody),this.bodyCollider.setColliderCallback(this.onBodyCollider.bind(this)),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyPressed,this),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP,this.onKeyReleased,this)},t.prototype.onBodyCollider=function(){},t.prototype.onKeyPressed=function(e){switch(e.keyCode){case cc.macro.KEY.up:this.On_The_Ground&&(c.default.instance.onJump(),this.Rigid_Body.applyForceToCenter(cc.v2(0,this.Jump_Force),!0),this.On_The_Ground=!1);break;case cc.macro.KEY.left:this.Character.rotationY=this.Left,c.default.instance.onWalk(),this.Direction=-1,this.pressedDir=!0;break;case cc.macro.KEY.right:this.Character.rotationY=this.Right,c.default.instance.onWalk(),this.Direction=1,this.pressedDir=!0;break;case cc.macro.KEY.space:this.spaceClicked.active=!0}},t.prototype.onKeyReleased=function(e){switch(e.keyCode){case cc.macro.KEY.left:c.default.instance.playAnim(),this.pressedDir=!1;case cc.macro.KEY.right:this.pressedDir=!1,c.default.instance.playAnim(),this.Direction=0;break;case cc.macro.KEY.space:this.spaceClicked.active=!1}},t.prototype.onBeginContact=function(e,t){2===t.tag&&(this.On_The_Ground=!0)},t.prototype.update=function(){(this.Direction>0&&this.Rigid_Body.linearVelocity.x<this.Velocity_Max_X||this.Direction<0&&this.Rigid_Body.linearVelocity.x>-this.Velocity_Max_X)&&this.Rigid_Body.applyForceToCenter(cc.v2(this.Direction*this.Walk_Force,0),!0)},t.prototype.playDance=function(){this.Character.rotationY=0,c.default.instance.onDance()},t.prototype.Throw_Bomb=function(){var e=cc.instantiate(this.Bomb_Prefab);e.parent=this.node.parent;var t=this.node.getPosition();t.x+=70,e.setPosition(t),e.getComponent(cc.RigidBody).applyForceToCenter(cc.v2(14e4,2e5),!0)},t._instance=null,__decorate([a(cc.Prefab)],t.prototype,"Bomb_Prefab",void 0),__decorate([a(n.default)],t.prototype,"bodyCollider",void 0),__decorate([a(cc.Node)],t.prototype,"spaceClicked",void 0),__decorate([a(cc.Node)],t.prototype,"Character",void 0),o=__decorate([r],t)}(cc.Component);o.default=l,cc._RF.pop()},{"./Animation":"Animation","./ColliderCallback":"ColliderCallback"}],scene2:[function(e,t,o){"use strict";cc._RF.push(t,"b0b67C1BYFMJJ/OQve+tZKq","scene2"),Object.defineProperty(o,"__esModule",{value:!0});var c=e("./ColliderCallback"),n=cc._decorator,i=n.ccclass,r=n.property,a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.Scene1=null,t.Scene2=null,t.Scene3=null,t.Text1=null,t.Text2=null,t.Text3=null,t.scene1Trigger=null,t.scene2Trigger=null,t}return __extends(t,e),t.prototype.onEnable=function(){this.scene1Trigger.setColliderCallback(this.changeScene1.bind(this)),this.scene2Trigger.setColliderCallback(this.changeScene2.bind(this))},t.prototype.changeSceneAnim=function(e){var t=this;cc.tween(e).to(.4,{opacity:0}).call(function(){t.Scene1.active=!1}).start()},t.prototype.changeSceneAnim2=function(e){var t=this;cc.tween(e).to(.4,{position:cc.v2(0,0)}).call(function(){t.Scene1.active=!1}).start()},t.prototype.changeScene1=function(){var e=this;this.changeSceneAnim(this.Scene1),cc.tween(this.Text1).to(.4,{opacity:0}).call(function(){e.Text1.active=!1,e.Text2.active=!0}).start()},t.prototype.changeScene2=function(){var e=this;cc.tween(this.Text2).to(.4,{opacity:0}).call(function(){e.Text2.active=!1,e.Text3.active=!0}).start(),this.changeSceneAnim(this.Scene2),this.changeSceneAnim2(this.Scene3)},__decorate([r(cc.Node)],t.prototype,"Scene1",void 0),__decorate([r(cc.Node)],t.prototype,"Scene2",void 0),__decorate([r(cc.Node)],t.prototype,"Scene3",void 0),__decorate([r(cc.Node)],t.prototype,"Text1",void 0),__decorate([r(cc.Node)],t.prototype,"Text2",void 0),__decorate([r(cc.Node)],t.prototype,"Text3",void 0),__decorate([r(c.default)],t.prototype,"scene1Trigger",void 0),__decorate([r(c.default)],t.prototype,"scene2Trigger",void 0),__decorate([i],t)}(cc.Component);o.default=a,cc._RF.pop()},{"./ColliderCallback":"ColliderCallback"}],scene3:[function(e,t,o){"use strict";cc._RF.push(t,"549330dcrxATrD5H857nND+","scene3"),Object.defineProperty(o,"__esModule",{value:!0});var c=e("./ColliderCallback"),n=cc._decorator,i=n.ccclass,r=n.property,a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.Scene1=null,t.Scene2=null,t.Scene3=null,t.scene1Trigger=null,t.scene2Trigger=null,t.scene3Trigger=null,t}return __extends(t,e),t.prototype.onEnable=function(){this.scene1Trigger.setColliderCallback(this.changeScene1.bind(this)),this.scene2Trigger.setColliderCallback(this.changeScene2.bind(this)),this.scene3Trigger.setColliderCallback(this.changeScene3.bind(this))},t.prototype.changeScene1=function(){this.scene1Trigger.node.active=!1,cc.tween(this.Scene1).to(.4,{opacity:255}).start()},t.prototype.changeScene2=function(){this.scene2Trigger.node.active=!1,cc.tween(this.Scene2).to(.4,{opacity:255}).start()},t.prototype.changeScene3=function(){this.scene3Trigger.node.active=!1,cc.tween(this.Scene3).to(.4,{opacity:255}).start()},__decorate([r(cc.Node)],t.prototype,"Scene1",void 0),__decorate([r(cc.Node)],t.prototype,"Scene2",void 0),__decorate([r(cc.Node)],t.prototype,"Scene3",void 0),__decorate([r(c.default)],t.prototype,"scene1Trigger",void 0),__decorate([r(c.default)],t.prototype,"scene2Trigger",void 0),__decorate([r(c.default)],t.prototype,"scene3Trigger",void 0),__decorate([i],t)}(cc.Component);o.default=a,cc._RF.pop()},{"./ColliderCallback":"ColliderCallback"}],scene_manager:[function(e,t,o){"use strict";cc._RF.push(t,"c6135LahWhLJ5A8kc2GJZv7","scene_manager"),Object.defineProperty(o,"__esModule",{value:!0});var c=e("./ColliderCallback"),n=cc._decorator,i=n.ccclass,r=n.property,a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.map1=null,t.map2=null,t.boxCheck=null,t}return __extends(t,e),t.prototype.start=function(){this.boxCheck.setColliderCallback(this.onHitCollider.bind(this))},t.prototype.onCollisionEnter=function(){},t.prototype.onHitCollider=function(e){"Character"==e.node.group&&(this.map2.active=!0)},__decorate([r(cc.Node)],t.prototype,"map1",void 0),__decorate([r(cc.Node)],t.prototype,"map2",void 0),__decorate([r(c.default)],t.prototype,"boxCheck",void 0),__decorate([i],t)}(cc.Component);o.default=a,cc._RF.pop()},{"./ColliderCallback":"ColliderCallback"}]},{},["Animation","ColliderCallback","PhysicalEnable","VideoControl","bomb_control","camera_control","explosion_force","main_game_control","player_control","scene2","scene3","scene_manager"]);